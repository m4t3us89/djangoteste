{% extends 'base.html' %}

{% block content %}
     <h1>Clientes <a href="cadastrar">+</a></h1>

    <form action="" method="POST">
            {% csrf_token %}
           
                     <div class="input-group">
                        <div class="input-group">
                                {{ search }}
                                <div class="input-group-append">
                                    <button type="submit"  class="btn btn-primary"><i class="fa fa-search"></i> Buscar</button>
                                    <a href="" class="btn btn-danger">X</a>
                                </div>
                        </div>
                    </div>
    </form>      
    <hr>  
    
    <table id="table_id" class="table table-striped table-bordered" style="width: 100%;">
            <thead class="thead-dark">
                <tr>
                    <th>CPF</th>
                    <th>Nome</th>
                    <th>Idade</th>
                    <th>Email</th>
                    <th>Ações</th>
                </tr>
            </thead>  
            <tbody> 
                {% for cliente in clientes %}
                <tr>
                    <td>{{ cliente.cpf }}</td>
                    <td>{{ cliente.nome }}</td>
                    <td>{{ cliente.idade }}</td>
                    <td>{{ cliente.email }}</td>	
                    <td style="width: 10px; text-align: center;">
                        <a  class="btn btn-primary" href="{{ cliente.id }}/"><i class="fa fa-edit"></i></a> 
                        <!--<a  class="btn btn-danger" href="{{ cliente.id }}/"><i class="fa fa-trash-o"></i></a>-->
                    </td>
                </tr>    
                {% endfor %}
            </tbody>     
    </table>

    
    <script>
      
            $('#table_id').DataTable({
                searching: false,
                info: false,
                paging : false,
                language:{
                        "decimal": "",
                        "emptyTable":     "Nenhum registro encontrado.",
                        "info":           "Mostrando _START_ a _END_ de _TOTAL_ registro(s)",
                        "infoEmpty":      "Mostrando 0 de 0 registro",
                        "infoFiltered":   "<br>_TOTAL_ equipamento(s) encontrado(s) na busca",
                        "infoPostFix":    "",
                        "thousands":      ",",
                        "lengthMenu":     "Mostrar _MENU_ registros",
                        "loadingRecords": "Carregando...",
                        "processing":     "Processando...",
                        "search":         "Buscar:",
                        "zeroRecords":    "Nenhum registro correspondente encontrado",
                        "paginate": {
                                "first":      "Primeiro",
                                "last":       "Último",
                                "next":       "Próximo",
                                 "previous":   "Anterior"
                        },
                        "aria": {
                            "sortAscending":  ": activate to sort column ascending",
                            "sortDescending": ": activate to sort column descending"
                        }
                },
                "aLengthMenu": [[50, -1], [50, "Todos"]],
                "processing": true,
                "order": [[ 1, "asc" ]],
                "columnDefs": [ {
                    "targets": 4,
                    "orderable": false
                }]
            })
    </script>

{% endblock %}    